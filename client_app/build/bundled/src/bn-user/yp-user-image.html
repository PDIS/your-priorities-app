<link rel="import" href="../../bower_components/polymer/polymer.html?v=8.0.0-4"><link rel="import" href="../../bower_components/iron-image/iron-image.html?v=8.0.0-4"><link rel="import" href="../yp-behaviors/yp-language-behavior.html?v=8.0.0-4"><link rel="import" href="../yp-behaviors/yp-media-formats-behavior.html?v=8.0.0-4"><dom-module id="yp-user-image"><template><style include="iron-flex iron-flex-alignment">iron-image{display:block;vertical-align:text-top;height:48px;width:48px}.small{height:30px;width:30px;background-color:var(--primary-color-lighter,#434343)}.large{height:90px;width:90px;background-color:var(--primary-color-lighter,#434343)}.veryLarge{height:200px;width:200px;background-color:var(--primary-color-lighter,#434343)}.medium{height:48px;width:48px;background-color:var(--primary-color-lighter,#434343)}.rounded{-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px;display:block;-webkit-transform-style:preserve-3d}.rounded-more{-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;display:block;vertical-align:top;align:top;-webkit-transform-style:preserve-3d}.rounded-even-more{-webkit-border-radius:115px;-moz-border-radius:125px;border-radius:125px;display:block;vertical-align:top;align:top;-webkit-transform-style:preserve-3d}.rounded img{opacity:0}.rounded-more img{opacity:0}[hidden]{display:none!important}</style><template restamp="" is="dom-if" if="[[user]]"><template is="dom-if" if="[[profileImageUrl]]"><iron-image sizing="cover" title="[[userTitle]]" preload="" src="[[profileImageUrl]]" class$="[[computeClass(small)]]"></iron-image></template><template is="dom-if" if="[[noProfileImage]]" restamp=""><template is="dom-if" if="[[user.facebook_id]]"><iron-image sizing="cover" hidden$="[[profileImageUrl]]" title="[[userTitle]]" preload="" src$="[[computeFacebookSrc]]" class$="[[computeClass(small)]]"></iron-image></template><template is="dom-if" if="[[!noDefault]]"><template is="dom-if" if="[[!user.facebook_id]]"><iron-image sizing="cover" title="[[userTitle]]" preload="" src="https://s3.amazonaws.com/better-reykjavik-paperclip-production/instances/buddy_icons/000/000/001/icon_50/default_profile.png" class$="[[computeClass(small)]]"></iron-image></template></template></template></template></template><script>Polymer({is:"yp-user-image",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypMediaFormatsBehavior],properties:{small:{type:Boolean,value:!1},large:{type:Boolean,value:!1},veryLarge:{type:Boolean,value:!1},titleFromUser:{type:String},userTitle:{type:String,computed:"_computeUserTitle(user, title)"},user:{type:Object},profileImageUrl:{type:String,computed:"_profileImageUrl(user)"},noDefault:{type:Boolean,value:!1},computeFacebookSrc:{type:String,computed:"_computeFacebookSrc(user)"},noProfileImage:{type:Boolean,value:!1}},_computeUserTitle:function(e,r){return e?r||e.name:""},_profileImageUrl:function(e){if(e&&e.UserProfileImages&&e.UserProfileImages.length>0){var r=this.getImageFormatUrl(e.UserProfileImages,0);return r&&""!==r?(this.set("noProfileImage",!1),r):(this.set("noProfileImage",!0),null)}return this.set("noProfileImage",!0),null},computeIf:function(e){return!1},computeClass:function(e){return this.small?"small rounded":this.large?"large rounded-more":this.veryLarge?"veryLarge rounded-even-more":"medium rounded"},_computeFacebookSrc:function(e){return e&&e.facebook_id?"https://graph.facebook.com/"+e.facebook_id+"/picture":null},usePlaceHolderImage:function(e){null==this.profileImageUrl&&e.facebook_id},ready:function(){}});</script></dom-module>