<link rel="import" href="../../bower_components/polymer/polymer.html?v=8.0.0-4"><link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html?v=8.0.0-4"><link rel="import" href="../../bower_components/lite-signal/lite-signal.html?v=8.0.0-4"><link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html?v=8.0.0-4"><link rel="import" href="../../bower_components/paper-button/paper-button.html?v=8.0.0-4"><link rel="import" href="../yp-behaviors/yp-language-behavior.html?v=8.0.0-4"><dom-module id="yp-confirmation-dialog"><template><style include="iron-flex iron-flex-alignment">paper-dialog{background-color:#FFF}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-dialog id="confirmationDialog"><div>[[confirmationText]]</div><div class="buttons"><paper-button hidden$="[[hideCancel]]" on-tap="_reset" dialog-dismiss="">[[t('cancel')]]</paper-button><paper-button dialog-confirm="" on-tap="_confirm">[[t('confirm')]]</paper-button></div></paper-dialog></template><script>Polymer({is:"yp-confirmation-dialog",behaviors:[Polymer.ypLanguageBehavior],properties:{confirmationText:{type:String},onConfirmedFunction:{type:Function,value:null},useFinalWarning:Boolean,haveIssuedFinalWarning:Boolean,hideCancel:{type:Boolean,value:!1}},_reset:function(){this.set("confirmationText",null),this.set("onConfirmedFunction",null),this.haveIssuedFinalWarning=!1,this.useFinalWarning=!1,this.set("hideCancel",!1)},open:function(n,i,e,t,o){this.set("confirmationText",n),this.set("onConfirmedFunction",i),this.$$("#confirmationDialog").modal=!!e,this.$$("#confirmationDialog").open(),this.useFinalWarning=!!t,this.haveIssuedFinalWarning=!1,o?this.set("hideCancel",!0):this.set("hideCancel",!1)},_confirm:function(){this.useFinalWarning&&!this.haveIssuedFinalWarning?(this.haveIssuedFinalWarning=!0,this.$.confirmationDialog.close(),this.set("confirmationText",this.t("finalDeleteWarning")),this.async(function(){this.$.confirmationDialog.open()})):this.onConfirmedFunction&&(this.onConfirmedFunction(),this._reset())}});</script></dom-module>